(this["webpackJsonpreact-blog-template"]=this["webpackJsonpreact-blog-template"]||[]).push([[0],{20:function(e,t,a){},31:function(e,t,a){e.exports=a(81)},36:function(e,t,a){},44:function(e,t,a){},55:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(23),r=a.n(l),o=(a(36),a(6)),i=a(7),s=(a(44),a(16)),m=a.n(s);m.a.initializeApp({apiKey:"AIzaSyB-a24M4sUt5I44K9-ll0C7lyoH0pmpMr0",authDomain:"react-blog-firebase-3a7bc.firebaseapp.com",databaseURL:"https://react-blog-firebase-3a7bc.firebaseio.com",projectId:"react-blog-firebase-3a7bc",storageBucket:"react-blog-firebase-3a7bc.appspot.com",messagingSenderId:"221628049182",appId:"1:221628049182:web:c5e12af6f7f4de5e168b0f",measurementId:"G-0V6GB0QBCH"});var u=m.a,d=(a(20),a(15)),p=a(11),f=function(e){return c.a.createElement("div",{className:"project"},e.data.defaultImage&&c.a.createElement("img",{src:e.data.defaultImage,alt:"default"}),c.a.createElement("div",{onClick:function(){return Object(i.c)("/projects/"+e.id)},className:"project-display-content"},c.a.createElement("div",null,c.a.createElement("h1",null,e.data.title),c.a.createElement("div",{className:"year"},e.data.year),c.a.createElement("div",{className:"byline"},e.data.byline))),e.signedIn&&c.a.createElement("div",{className:"admin-icons"},c.a.createElement(i.a,{to:"/edit/"+e.id},c.a.createElement(p.c,{className:"edit-icons"})),c.a.createElement(d.a,{onClick:function(){window.confirm("sure?")&&u.firestore().collection("projects").doc(e.id).delete().then((function(e){return console.log("Document was deleted")})).catch((function(e){return console.log(e)}))},className:"edit-icons"})))},g=(a(55),a(28)),h=a(26),E=a.n(h),b=(a(60),function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],r=a[1];Object(n.useEffect)((function(){console.log("hejsa"),u.firestore().collection("projects").orderBy("title").onSnapshot((function(e){return r(e.docs)}))}),[]);return c.a.createElement("main",{className:"projects"},e.signedIn&&c.a.createElement("div",{className:"add"},c.a.createElement(g.a,{className:"edit-icons",onClick:function(){u.firestore().collection("projects").add({title:"0 New project",timestamp:u.firestore.FieldValue.serverTimestamp()}).then((function(e){return Object(i.c)("/edit/"+e.id)}))}})),l.length>0?c.a.createElement("div",{className:"projects-container"},l.map((function(t){return c.a.createElement(f,{key:t.id,data:t.data(),id:t.id,signedIn:e.signedIn})}))):c.a.createElement(E.a,null))}),j=a(29),v=a.n(j),y=(a(72),function(e){var t,a=Object(n.useState)(),l=Object(o.a)(a,2),r=l[0],s=l[1],m=Object(n.useState)(),d=Object(o.a)(m,2),f=d[0],g=d[1],h=Object(n.useState)(),E=Object(o.a)(h,2),b=E[0],j=E[1];return Object(n.useEffect)((function(){u.firestore().collection("projects").doc(e.id).onSnapshot((function(e){return s(e.data())})),u.firestore().collection("projects").orderBy("title").get().then((function(t){var a=t.docs.map((function(e){return e.id})),n=a.indexOf(e.id);j(n+1===a.length?a[0]:a[n+1]),g(0===n?a[a.length-1]:a[n-1])}))}),[e.id]),r&&(t={parallax:{backgroundImage:"url("+r.parallax+")",height:"100vh",width:"100vw",backgroundAttachment:"fixed",backgroundSize:"cover",display:"grid",placeItems:"center",fontSize:"2rem",color:"white"}}),c.a.createElement("main",{className:"project-details"},r?c.a.createElement("div",null,c.a.createElement("div",{className:"pager"},c.a.createElement(i.a,{to:"/projects/"+f},c.a.createElement(p.a,{className:"edit-icons"})),c.a.createElement(i.a,{to:"/projects/"+b},c.a.createElement(p.b,{className:"edit-icons"}))),r.parallax&&c.a.createElement("div",{style:t.parallax},c.a.createElement("h1",null,r.title)),c.a.createElement("div",{className:"project-content"},c.a.createElement("h1",null,r.title),c.a.createElement("div",{className:"year"},r.year),c.a.createElement("div",{className:"description"},r.description&&v()(r.description)))):c.a.createElement("h2",null,"Fetching project, hold on..."))}),O=function(){return c.a.createElement("main",null,c.a.createElement("h1",null,"Kontakt"))},k=(a(73),function(e){console.log("header renders");var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],r=a[1];return c.a.createElement("div",{className:"header-container"},c.a.createElement(d.b,{className:"burger",color:"white",size:"42",onClick:function(){return r(!l)}}),c.a.createElement("header",{className:l?"visible":"",onClick:function(){return r(!1)}},c.a.createElement(i.a,{getProps:function(e){return e.isPartiallyCurrent?{className:"active"}:null},to:"/projects"},"projects"),c.a.createElement(i.a,{to:"/contact"},"kontakt"),c.a.createElement(i.a,{to:"/login"},"login")))}),I=(a(74),function(e){return c.a.createElement("main",{className:"login"},!e.signedIn&&c.a.createElement("button",{onClick:function(){var e=new u.auth.GoogleAuthProvider;e.addScope("profile"),e.addScope("email"),u.auth().signInWithPopup(e).catch((function(e){console.log(e)}))}},"sign in"),e.signedIn&&c.a.createElement("div",null,c.a.createElement("h1",null,"You are signed in to firebase"),c.a.createElement("p",null,"Welcome ",u.auth().currentUser.displayName),u.auth().currentUser.photoURL&&c.a.createElement("img",{alt:"profile img",src:u.auth().currentUser.photoURL}),c.a.createElement("button",{onClick:function(){u.auth().signOut()}},"sign out")))}),N=a(8),x=a(12),C=(a(75),a(30)),S=a.n(C),w=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)("defaultImage"),f=Object(o.a)(p,2),g=f[0],h=f[1];Object(n.useEffect)((function(){u.firestore().collection("projects").doc(e.id).onSnapshot((function(e){return r(e.data())}))}),[e.id]);var E=function(e){switch(e.persist(),e.target.type){case"checkbox":console.log("her"),r((function(t){return Object(x.a)({},t,Object(N.a)({},e.target.name,e.target.checked))}));break;case"text":default:r((function(t){return Object(x.a)({},t,Object(N.a)({},e.target.name,e.target.value))}))}};return c.a.createElement("main",{className:"edit"},l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Edit project: ",l.title),c.a.createElement("form",{onSubmit:function(t){d("updating project, please hold"),t.preventDefault(),u.firestore().collection("projects").doc(e.id).update(l).then((function(){return d("project updated")})).catch((function(e){console.log(e.message)}))}},c.a.createElement("input",{name:"title",onChange:E,value:l.title}),c.a.createElement("input",{name:"year",onChange:E,placeholder:"year",value:l.year}),c.a.createElement("input",{name:"byline",onChange:E,placeholder:"short description for the frontpage",value:l.byline}),c.a.createElement("div",{className:"checks"},c.a.createElement("label",{htmlFor:"html"},"html"),c.a.createElement("input",{name:"html",id:"html",type:"checkbox",onChange:E,defaultChecked:l.html}),c.a.createElement("label",{htmlFor:"javascript"},"javascript"),c.a.createElement("input",{name:"javascript",id:"javascript",type:"checkbox",onChange:E,defaultChecked:l.javascript}),c.a.createElement("label",{htmlFor:"userOrientedDesign"},"user oriented design"),c.a.createElement("input",{name:"userOrientedDesign",id:"userOrientedDesign",type:"checkbox",onChange:E,defaultChecked:l.userOrientedDesign}),c.a.createElement("label",{htmlFor:"ux"},"UX"),c.a.createElement("input",{name:"ux",id:"ux",type:"checkbox",onChange:E,defaultChecked:l.ux})),c.a.createElement("textarea",{onChange:E,name:"description",value:l.description}),c.a.createElement("div",{className:"project-images"},l.defaultImage&&c.a.createElement("div",null,c.a.createElement("img",{src:l.defaultImage,alt:"default"}),c.a.createElement("h3",null,"Default")),l.displayImage&&c.a.createElement("div",null,c.a.createElement("img",{src:l.displayImage,alt:"default"}),c.a.createElement("h3",null,"Display")),l.parallax&&c.a.createElement("div",null,c.a.createElement("img",{src:l.parallax,alt:"default"}),c.a.createElement("h3",null,"Parallax"))),c.a.createElement("select",{name:"imageName",onChange:function(e){return h(e.target.value)}},c.a.createElement("option",{name:"defaultImage",value:"defaultImage"},"default image"),c.a.createElement("option",{name:"displayImage",value:"displayImage"},"display image"),c.a.createElement("option",{name:"parallax",value:"parallax"},"parallax image")),c.a.createElement("label",null,c.a.createElement("div",{className:"button"},"upload"),c.a.createElement(S.a,{hidden:!0,accept:"image/*",storageRef:u.storage().ref("images"),onUploadStart:function(){d("uploading image, please hold")},onUploadError:function(e){d(e)},onUploadSuccess:function(e){u.storage().ref("images").child(e).getDownloadURL().then((function(e){return r((function(t){return Object(x.a)({},t,Object(N.a)({},g,e))}))})),d("image uploaded")},onProgress:function(e){console.log(e)}})),c.a.createElement("button",{type:"submit"},"save"))),c.a.createElement("p",null,m))},U=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){u.auth().onAuthStateChanged((function(e){l(!!e)}))})),c.a.createElement("div",null,c.a.createElement(k,{signedIn:a}),c.a.createElement(i.b,null,c.a.createElement(b,{default:!0,signedIn:a,path:"/projects"}),c.a.createElement(y,{path:"/projects/:id"}),c.a.createElement(O,{path:"/contact"}),c.a.createElement(I,{signedIn:a,setSignedIn:l,path:"/login"}),c.a.createElement(w,{path:"/edit/:id"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.936b8d58.chunk.js.map